# Модуль 10. Урок 67. Покупка домена, аренда сервера и связывание домена с сервером (Beget)

К этому моменту мы с вами уже проделали большую работу. Проект **cinemahub** перестал быть набором учебных файлов — это полноценный Django-сайт с авторизацией пользователей, логикой доступа и основной моделью `movies`.

До сих пор мы запускали сайт локально:
через `runserver`, на `127.0.0.1:8000`, только для себя.

Но любой реальный веб-проект рано или поздно должен выйти за пределы компьютера разработчика. Его должны увидеть другие люди. У него должен появиться **адрес**, **сервер** и **постоянная работа 24/7**.

С этого урока мы начинаем процесс деплоя.

Важно понимать: деплой — это не одно действие, а цепочка логически связанных шагов. Если пропустить или не понять хотя бы один из них, дальше начнутся ошибки, которые будет сложно диагностировать.

В этом уроке мы **не будем устанавливать Django и запускать проект**.
Наша задача — подготовить фундамент:

1. арендовать сервер;
2. зарегистрировать доменное имя;
3. связать домен с сервером;
4. убедиться, что всё работает корректно.

---

## Общая схема деплоя веб-проекта

Прежде чем переходить к практике, зафиксируем общую картину.

Любой Django-сайт в интернете существует потому что:

* есть **сервер** с публичным IP-адресом;
* есть **доменное имя**, удобное для человека;
* домен «указывает» на IP сервера;
* на сервере запущено ПО, которое обрабатывает HTTP-запросы;
* Django-приложение отвечает на эти запросы.

Сегодня мы реализуем **только первые три пункта**.

---

## Почему Beget

Для примера мы будем использовать хостинг-провайдера **Beget**.

Причины выбора:

* понятная панель управления;
* стабильная работа VPS;
* адекватная документация;
* возможность всё сделать руками, не «магией».

> Вы можете использовать любого другого провайдера, но логика деплоя останется той же.
> Меняются только названия кнопок и интерфейс.

---

## Шаг 1. Регистрация на Beget

Переходим на сайт:

```
https://beget.com
```

Регистрируемся, выбирая **облачные сервисы**.
Указываем реальные контактные данные — почту, телефон.

После регистрации вы попадаете в **панель управления** Beget.
Это центр управления всем, что связано с вашим будущим сайтом.

---

## Шаг 2. Аренда виртуального сервера (VPS)

### Что такое VPS и почему он нам нужен

VPS (Virtual Private Server) — это виртуальный сервер с собственной операционной системой, IP-адресом и root-доступом.

Для Django-проекта это оптимальный вариант, потому что:

* мы сами устанавливаем нужное ПО;
* можем гибко настраивать сервер;
* не ограничены шаблонами хостинга.

---

### Создание сервера

В панели Beget выбираем раздел **VPS/VDS**.

Для учебного проекта **cinemahub** достаточно минимальной конфигурации:

* самый дешёвый тариф (на момент написания — ~210 ₽/мес);
* расположение сервера — любое;
* операционная система — **Ubuntu 24.04**.

> Мы будем ориентироваться именно на Ubuntu, все команды дальше рассчитаны на неё.

Нажимаем **«Создать виртуальный сервер»**.
Если баланс пустой — система предложит его пополнить.

Через некоторое время сервер будет создан.

---

### Данные доступа к серверу

На почту, указанную при регистрации, придёт письмо с:

* IP-адресом сервера;
* логином (обычно `root`);
* паролем.

⚠️ **Важно**

* сохраните эти данные;
* никому их не передавайте;
* не публикуйте в репозиториях и чатах.

Без них вы не сможете подключиться к серверу.

---

## Шаг 3. Регистрация доменного имени

Теперь нашему серверу нужен **человеческий адрес**.

### Переход в управление доменами

В панели Beget переходим в раздел:

```
Домены и поддомены
```

Или напрямую:

```
https://cp.beget.com/domains
```

Выбираем вкладку **«Регистрация доменов»**.

---

### Выбор домена для cinemahub

Для русскоязычных проектов чаще всего используют зону **.ru**.

Например:

* `cinemahub.ru`
* `cinema-hub.ru`
* `cinemahub-project.ru`

Вы вводите желаемое имя и проверяете, свободно ли оно.

Если домен свободен — его можно приобрести.

---

### Данные администратора домена

При покупке домена система попросит указать данные администратора.

Рекомендуется указывать **реальные сведения**, потому что:

* домен юридически принадлежит администратору;
* в случае споров или восстановления доступа это критично.

После успешной покупки домен появится во вкладке **«Мои домены»**.

---

## Шаг 4. Связывание домена и сервера (делегирование)

Сейчас у нас есть:

* сервер с IP-адресом;
* домен с красивым именем.

Но они **пока никак не связаны**.

Если прямо сейчас попытаться открыть домен в браузере — ничего не произойдёт.

Наша задача — сказать интернету:

> «Когда кто-то обращается к этому домену, нужно идти на этот IP-адрес».

---

### Редактирование DNS-записей

В разделе **«Мои домены»**:

1. находим нужный домен;
2. открываем выпадающее меню;
3. выбираем **«Редактировать DNS»**.

Далее переходим к редактированию DNS-записей.

---

### A-запись — ключевой момент

Нас интересует запись типа **A**.

Она связывает:

```
домен → IP-адрес
```

В поле значения указываем **IP вашего VPS-сервера**, который пришёл на почту.

Пример логики (условно):

```
cinemahub.ru → 123.123.123.123
```

Сохраняем изменения.

---

## Шаг 5. Ожидание и понимание, что происходит

DNS — не мгновенная система.

После сохранения записей изменения распространяются по сети:

* обычно 3–4 часа;
* иногда до 24 часов.

Это нормально.

---

## Проверка результата: первый осознанный контроль

Мы **обязательно проверяем**, что сделали всё правильно.

### Проверка через командную строку

Открываем терминал (Windows / macOS / Linux) и выполняем команду:

```bash
ping имя_домена
```

Например:

```bash
ping cinemahub.ru
```

Обратите внимание:

* **http / https не указываем**;
* проверяется именно DNS-разрешение.

Если вы видите ответы с IP-адресом вашего сервера — значит:

> домен успешно делегирован

> домен указывает на ваш VPS

---

[Предыдущий урок](lesson66.md) | [Следующий урок](lesson68.md)