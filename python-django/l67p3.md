# –ú–æ–¥—É–ª—å 10. –£—Ä–æ–∫ 67. –î–µ–ø–ª–æ–π —Å–∞–π—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Django, Gunicorn –∏ Nginx –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü —Å–∞–π—Ç–∞

–ù–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∑–∞–Ω—è—Ç–∏—è—Ö –º—ã —Å–¥–µ–ª–∞–ª–∏ –≤—Å—é ¬´—á–µ—Ä–Ω–æ–≤—É—é¬ª —Ä–∞–±–æ—Ç—É:

* —Ä–∞–∑–≤–µ—Ä–Ω—É–ª–∏ —Å–µ—Ä–≤–µ—Ä;
* –ø–æ–¥–∫–ª—é—á–∏–ª–∏—Å—å –∫ –Ω–µ–º—É –ø–æ SSH;
* –ø–µ—Ä–µ–Ω–µ—Å–ª–∏ –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞ **cinemahub**;
* —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏;
* (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª–∏ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.

–¢–µ–ø–µ—Ä—å –º—ã –ø–æ–¥–æ—à–ª–∏ –∫ —Å–∞–º–æ–º—É –≤–∞–∂–Ω–æ–º—É –º–æ–º–µ–Ω—Ç—É ‚Äî **–Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Å–≤—è–∑–∫–∏ Django ‚Üí Gunicorn ‚Üí Nginx**, –±–ª–∞–≥–æ–¥–∞—Ä—è –∫–æ—Ç–æ—Ä–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–∞–π—Ç–∞ —Å—Ç–∞–Ω—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ –¥–æ–º–µ–Ω–Ω–æ–º—É –∏–º–µ–Ω–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

–ò–º–µ–Ω–Ω–æ –∑–¥–µ—Å—å —É —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ —á–∞—â–µ –≤—Å–µ–≥–æ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—â—É—â–µ–Ω–∏–µ, —á—Ç–æ ¬´–º–∞–≥–∏—è –¥–µ–ø–ª–æ—è¬ª –Ω–∞–∫–æ–Ω–µ—Ü —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø–æ–Ω—è—Ç–Ω–æ–π. –ü–æ—ç—Ç–æ–º—É –º—ã –±—É–¥–µ–º –¥–≤–∏–≥–∞—Ç—å—Å—è **–º–µ–¥–ª–µ–Ω–Ω–æ, –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ –∏ —Å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏**.

---

## –®–∞–≥ 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Django-–ø—Ä–æ–µ–∫—Ç–∞ –∫ —Ä–∞–±–æ—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ù–∞—á–∏–Ω–∞–µ–º —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Django.
–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –º—ã –±—É–¥–µ–º –≤–Ω–æ—Å–∏—Ç—å –≤ —Ñ–∞–π–ª:

```
cinemahub/settings.py
```

(–ø—É—Ç—å —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞, –≥–¥–µ –ª–µ–∂–∏—Ç `manage.py`).

---

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –º–æ–¥—É–ª—è os

–í —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞ `settings.py` –¥–æ–±–∞–≤—å—Ç–µ –∏–º–ø–æ—Ä—Ç:

```python
import os
```

–û–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—É—Ç—è–º–∏ –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏.

---

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ALLOWED_HOSTS

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Django **–±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—Å–µ –≤–Ω–µ—à–Ω–∏–µ –∑–∞–ø—Ä–æ—Å—ã**.
–≠—Ç–æ –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.

–ù–∞–π–¥–∏—Ç–µ –≤ `settings.py` –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `ALLOWED_HOSTS` –∏ —É–∫–∞–∂–∏—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω:

```python
ALLOWED_HOSTS = [
    'cinemahub.ru',
    'www.cinemahub.ru',
]
```

–ï—Å–ª–∏ —ç—Ç–æ–≥–æ –Ω–µ —Å–¥–µ–ª–∞—Ç—å, –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å–∞–π—Ç–∞ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –æ—à–∏–±–∫—É **DisallowedHost**.

---

### INTERNAL_IPS

–ï—Å–ª–∏ –≤ —Ñ–∞–π–ª–µ –µ—Å—Ç—å —Å—Ç—Ä–æ–∫–∞:

```python
INTERNAL_IPS = ["127.0.0.1"]
```

‚Äî –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –µ—ë, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏.

---

## –®–∞–≥ 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–î–í–ê –í–ê–†–ò–ê–ù–¢–ê)

–ó–¥–µ—Å—å –º—ã –¥–µ–ª–∞–µ–º –≤–∞–∂–Ω—É—é –º–µ—Ç–æ–¥–∏—á–µ—Å–∫—É—é —Ä–∞–∑–≤–∏–ª–∫—É.

---

### üîπ –í–∞—Ä–∏–∞–Ω—Ç 1. PostgreSQL (–µ—Å–ª–∏ –≤—ã –µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ)

–í `settings.py` –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

```python
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql_psycopg2',
        'NAME': 'cinemahub_db',
        'USER': 'cinemahub_user',
        'PASSWORD': 'strong_password_here',
        'HOST': 'localhost',
        'PORT': '',
    }
}
```

–≠—Ç–æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç –∞–∫—Ç—É–∞–ª–µ–Ω, –µ—Å–ª–∏ –≤—ã **–æ—Å–æ–∑–Ω–∞–Ω–Ω–æ —Ä–µ—à–∏–ª–∏ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ PostgreSQL**.

---

### üîπ –í–∞—Ä–∏–∞–Ω—Ç 2. SQLite (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –∫—É—Ä—Å–∞)

–ï—Å–ª–∏ —Å—Ç—É–¥–µ–Ω—Ç—ã **—Ä–∞–±–æ—Ç–∞–ª–∏ —Ç–æ–ª—å–∫–æ —Å SQLite**, —Ç–æ **–Ω–∏—á–µ–≥–æ –º–µ–Ω—è—Ç—å –Ω–µ –Ω—É–∂–Ω–æ**.

–û—Å—Ç–∞–≤–ª—è–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

```python
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': BASE_DIR / 'db.sqlite3',
    }
}
```

> –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö ‚Äî —ç—Ç–æ —Ñ–∞–π–ª `db.sqlite3` –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∞.

> Django —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –Ω–∏–º **—Ç–æ—á–Ω–æ —Ç–∞–∫ –∂–µ**, –∫–∞–∫ –ª–æ–∫–∞–ª—å–Ω–æ.

---

## –®–∞–≥ 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤

–í `settings.py` –¥–æ–±–∞–≤—å—Ç–µ:

```python
STATIC_ROOT = os.path.join(BASE_DIR, 'static/')
```

–ê –µ—Å–ª–∏ –µ—Å—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `STATICFILES_DIRS`, **–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –µ—ë**:

```python
# STATICFILES_DIRS = [...]
```

–ü–æ—á–µ–º—É —Ç–∞–∫:

* –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –≤—Å–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –ª–µ–∂–∞—Ç—å **–≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ**;
* Nginx –±—É–¥–µ—Ç –∑–∞–±–∏—Ä–∞—Ç—å –∏—Ö –Ω–∞–ø—Ä—è–º—É—é, –±–µ–∑ Django.

---

## –®–∞–≥ 4. –ú–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å–±–æ—Ä —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤

–¢–µ–ø–µ—Ä—å –ø—Ä–∏–º–µ–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è.

–ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞ –≤—ã–ø–æ–ª–Ω—è–µ–º:

```bash
python3 manage.py makemigrations
python3 manage.py migrate
```

–ó–∞—Ç–µ–º —Å–æ–±–∏—Ä–∞–µ–º —Å—Ç–∞—Ç–∏–∫—É:

```bash
python3 manage.py collectstatic
```

Django —Å–ø—Ä–æ—Å–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ ‚Äî –≤–≤–æ–¥–∏–º `yes`.

---

### –ü—Ä–æ–≤–µ—Ä–∫–∞ ‚Ññ1 (–≤–∞–∂–Ω–∞—è)

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ –ø–æ—è–≤–∏–ª–∞—Å—å –ø–∞–ø–∫–∞:

```
static/
```

–ò –≤–Ω—É—Ç—Ä–∏ –Ω–µ—ë ‚Äî CSS, JS –∏ –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã.

---

## –®–∞–≥ 5. –í—Ä–µ–º–µ–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫ Django-—Å–µ—Ä–≤–µ—Ä–∞

–û—Ç–∫—Ä–æ–µ–º –ø–æ—Ä—Ç 8000:

```bash
sudo ufw allow 8000
```

–ó–∞–ø—É—Å–∫–∞–µ–º Django:

```bash
python3 manage.py runserver 0.0.0.0:8000
```

–¢–µ–ø–µ—Ä—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ –æ—Ç–∫—Ä—ã–≤–∞–µ–º:

```
http://–≤–∞—à_–¥–æ–º–µ–Ω:8000
```

---

### –ü—Ä–æ–≤–µ—Ä–∫–∞ ‚Ññ2

* —Å–∞–π—Ç **–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è**;
* –ø–æ–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç–∞—è –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞;
* —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ ‚Äî —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω, Django —Ä–∞–±–æ—Ç–∞–µ—Ç.

‚ö†Ô∏è –≠—Ç–æ **—Ç–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä**, –æ–Ω –Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞.

–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –µ–≥–æ: `Ctrl + C`.

---

## –®–∞–≥ 6. –ü–µ—Ä–µ–Ω–æ—Å –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –¥–∞–Ω–Ω—ã–µ (—Ñ–∏–ª—å–º—ã, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π):

–ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:

```bash
python manage.py dumpdata --indent=2 -o db.json
```

–ó–∞–≥—Ä—É–∂–∞–µ–º `db.json` –Ω–∞ —Å–µ—Ä–≤–µ—Ä –∏ –≤—ã–ø–æ–ª–Ω—è–µ–º:

```bash
python3 manage.py loaddata db.json
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ:

* –ø–æ—è–≤—è—Ç—Å—è –∑–∞–ø–∏—Å–∏ `movies`;
* –ø–æ—è–≤–∏—Ç—Å—è —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.

---

## –®–∞–≥ 7. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ Django –≤ –±–æ–µ–≤–æ–π —Ä–µ–∂–∏–º

–í `settings.py`:

```python
DEBUG = False
```

‚ö†Ô∏è –≠—Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —à–∞–≥ –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–æ–º.

---

## –®–∞–≥ 8. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Gunicorn

–ù–∞—Ö–æ–¥—è—Å—å –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏, –≤—ã–ø–æ–ª–Ω—è–µ–º:

```bash
gunicorn --bind 0.0.0.0:8000 cinemahub.wsgi
```

_*–ï—Å–ª–∏ –≤–∞—à–µ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–≤–Ω—É—Ç—Ä–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ —Ñ–∞–π–ª `settings.py`) –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è, –∫ –ø—Ä–∏–º–µ—Ä—É `core`, —Ç–æ –≤—ã–∑–≤–∞—Ç—å –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç `core.wsgi`_

–í –±—Ä–∞—É–∑–µ—Ä–µ —Å–Ω–æ–≤–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ–º:

```
http://–≤–∞—à_–¥–æ–º–µ–Ω:8000
```

---

### –ü—Ä–æ–≤–µ—Ä–∫–∞ ‚Ññ3

* —Å–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç;
* **—Å—Ç–∏–ª–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è** ‚Äî —ç—Ç–æ –æ–∂–∏–¥–∞–µ–º–æ;
* Gunicorn —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–µ—Ä–≤–µ—Ä (`Ctrl + C`) –∏ –≤—ã—Ö–æ–¥–∏–º –∏–∑ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
deactivate
```

---

## –®–∞–≥ 9. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Gunicorn –∫–∞–∫ systemd-—Å–µ—Ä–≤–∏—Å–∞

–°–æ–∑–¥–∞—ë–º —Ñ–∞–π–ª —Å–µ—Ä–≤–∏—Å–∞:

```bash
sudo vim /etc/systemd/system/gunicorn.service
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:

```ini
[Unit]
Description=gunicorn daemon for cinemahub
After=network.target

[Service]
User=root
Group=www-data
WorkingDirectory=/var/www/cinemahub
ExecStart=/var/www/cinemahub/venv/bin/gunicorn \
    --workers 3 \
    --bind unix:/var/www/cinemahub/cinemahub.sock \
    cinemahub.wsgi:application
Restart=on-failure

[Install]
WantedBy=multi-user.target
```

_*–ß—Ç–æ –±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª –≤ `vim` –Ω—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –∫–æ–º–∞–Ω–¥—É `:wq` –∏ –Ω–∞–∂–∞—Ç—å `enter`_

_*–ï—Å–ª–∏ –≤–∞—à–µ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–≤–Ω—É—Ç—Ä–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ —Ñ–∞–π–ª `settings.py`) –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è, –∫ –ø—Ä–∏–º–µ—Ä—É `core`, —Ç–æ –≤ —Ñ–∞–π–ª–µ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø—Ä–æ–ø–∏—Å–∞—Ç—å `core.wsgi:application` –≤–º–µ—Å—Ç–æ `cinemahub.wsgi:application`_

–ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–∏—Å:

```bash
sudo systemctl enable --now gunicorn
sudo systemctl status gunicorn
```

---

### –ü—Ä–æ–≤–µ—Ä–∫–∞ ‚Ññ4

* —Å—Ç–∞—Ç—É—Å **active (running)**;
* –≤ –∫–∞—Ç–∞–ª–æ–≥–µ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ—è–≤–∏–ª—Å—è —Ñ–∞–π–ª:

  ```
  cinemahub.sock
  ```

---

## –®–∞–≥ 10. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx

–°–æ–∑–¥–∞—ë–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

```bash
sudo vim /etc/nginx/sites-available/cinemahub

–∏–ª–∏

sudo nano /etc/nginx/sites-available/cinemahub
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:

```nginx
server {
    listen 80;
    server_name cinemahub.ru *.cinemahub.ru;

    location = /favicon.ico { access_log off; log_not_found off; }
    location /static/ { root /var/www/cinemahub; }
    location /media/ { root /var/www/cinemahub; }

    location / {
        include proxy_params;
        proxy_pass http://unix:/var/www/cinemahub/cinemahub.sock;
    }
}
```

–ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

```bash
sudo ln -s /etc/nginx/sites-available/cinemahub /etc/nginx/sites-enabled
```

–ü—Ä–æ–≤–µ—Ä—è–µ–º:

```bash
sudo nginx -t
sudo systemctl restart nginx
sudo systemctl restart gunicorn
```

---

## –®–∞–≥ 11. Firewall –∏ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ó–∞–∫—Ä—ã–≤–∞–µ–º –ø–æ—Ä—Ç 8000:

```bash
sudo ufw delete allow 8000
sudo ufw allow 'Nginx Full'
```

–û—Ç–∫—Ä—ã–≤–∞–µ–º –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

```
http://cinemahub.ru
```

---

### –ï—Å–ª–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å—Ç–∏–ª–∏

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–∞–≤–∞:

```bash
sudo chmod 755 /var/www/cinemahub/static
sudo chmod 755 /var/www/cinemahub/media
```

---
