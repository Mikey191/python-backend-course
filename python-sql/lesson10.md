# –ú–æ–¥—É–ª—å 2. –£—Ä–æ–∫ 10. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö. CRUD

## –í–≤–µ–¥–µ–Ω–∏–µ: ¬´–ó–∞—á–µ–º CRUD¬ª

**CRUD** ‚Äî —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ –ª—é–±—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö. –≠—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –Ω–∞–±–æ—Ä —Å–ª–æ–≤ ‚Äî `Create`, `Read`, `Update`, `Delete` ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä –¥–µ–π—Å—Ç–≤–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –Ω–∞–¥ –ª—é–±–æ–π —Å—É—â–Ω–æ—Å—Ç—å—é: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, –∑–∞–∫–∞–∑–æ–º, —Å—Ç–∞—Ç—å—ë–π, —Å—Ç—É–¥–µ–Ω—Ç–æ–º. –ü–æ–Ω–∏–º–∞–Ω–∏–µ CRUD –¥–∞—ë—Ç –≤–∞–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥—É–º–∞—Ç—å –æ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –∏ —Å–∏—Å—Ç–µ–º–Ω–æ: –∫–∞–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω—É–∂–Ω—ã, –∫–∞–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–¥–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å, –∏ –∫–∞–∫ —Å—Ç—Ä–æ–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (CLI, HTTP, GUI), –∫–æ—Ç–æ—Ä—ã–µ —Å —ç—Ç–∏–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ —Ä–∞–±–æ—Ç–∞—é—Ç.

–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ –∏–º–µ–Ω–Ω–æ —Å–µ–π—á–∞—Å:

- –õ—é–±–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –≥–¥–µ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ, —Ä–∞–Ω–æ –∏–ª–∏ –ø–æ–∑–¥–Ω–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç CRUD. –ï—Å–ª–∏ –≤—ã —É–º–µ–µ—Ç–µ –≥—Ä–∞–º–æ—Ç–Ω–æ –æ—Ç–¥–µ–ª—è—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é CRUD –æ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏, –≤–∞—à –∫–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—Ä–æ—â–µ, –Ω–∞–¥—ë–∂–Ω–µ–µ –∏ –ª–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è.
- CRUD ‚Äî —ç—Ç–æ —Ç–∞ —á–∞—Å—Ç—å, –∫–æ—Ç–æ—Ä—É—é –≤—ã –±—É–¥–µ—Ç–µ –ø–æ–≤—Ç–æ—Ä—è—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞—è–≤–æ–∫, –≤–µ–¥–µ–Ω–∏–µ –∂—É—Ä–Ω–∞–ª–æ–≤. –û—Å–≤–æ–∏–≤ CRUD —Ö–æ—Ä–æ—à–æ, –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –Ω–∞–≤—ã–∫.
- –ù–∞ –±–∞–∑–µ CRUD —Å—Ç—Ä–æ—è—Ç—Å—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏: –æ—Ç—á—ë—Ç—ã, –ø–µ—Ä–µ—Å—á—ë—Ç—ã, –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö. –ù–æ —Å–Ω–∞—á–∞–ª–∞ ‚Äî –Ω—É–∂–Ω–æ —É–º–µ—Ç—å –¥–µ–ª–∞—Ç—å –±–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

–≠—Ç–æ—Ç —É—Ä–æ–∫ –¥–∞—ë—Ç –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ CRUD: —á—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ, –∑–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ, –∫–∞–∫ —Ñ–æ—Ä–º–∞–ª—å–Ω–æ –≤—ã–≥–ª—è–¥—è—Ç –∑–∞–ø—Ä–æ—Å—ã –∏ –ø—Ä–æ—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏-–æ–±—ë—Ä—Ç–∫–∏ –≤ Python. –í –¥–∞–ª—å–Ω–µ–π—à–µ–º –º—ã –≤–æ–∑—å–º—ë–º —Ç–µ –∂–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –≤—Å—Ç—Ä–æ–∏–º –∏—Ö –≤ –Ω–µ–±–æ–ª—å—à–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: —Ç—Ä–∏ —Å—É—â–Ω–æ—Å—Ç–∏ ‚Äî —Å—Ç—É–¥–µ–Ω—Ç—ã, –ø—Ä–µ–¥–º–µ—Ç—ã, –≥—Ä—É–ø–ø—ã ‚Äî –∏ —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–∏–º–∏.

---

# –ß—Ç–æ —Ç–∞–∫–æ–µ CRUD

**CRUD** ‚Äî —ç—Ç–æ –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä–∞ –∏–∑ —á–µ—Ç—ã—Ä—ë—Ö —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –Ω–∞–¥ **—Å—É—â–Ω–æ—Å—Ç—å—é** –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:

- **C ‚Äî Create (—Å–æ–∑–¥–∞—Ç—å)**: –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü—É.
- **R ‚Äî Read (–ø—Ä–æ—á–∏—Ç–∞—Ç—å)**: –ø–æ–ª—É—á–∏—Ç—å –æ–¥–Ω—É –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π (–ø—Ä–æ—Å–º–æ—Ç—Ä/–ø–æ–∏—Å–∫).
- **U ‚Äî Update (–æ–±–Ω–æ–≤–∏—Ç—å)**: –∏–∑–º–µ–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∑–∞–ø–∏—Å—å.
- **D ‚Äî Delete (—É–¥–∞–ª–∏—Ç—å)**: —É–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å.

–ù–∏–∂–µ –¥–∞–Ω–æ —á—ë—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏, –ø–æ–Ω—è—Ç–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã SQL –∏ –ø—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ Python (sqlite3). –≠—Ç–æ—Ç —Ç–µ–∫—Å—Ç –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫: –ø—Ä–æ—á–∏—Ç–∞–ª ‚Äî —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª ‚Äî –ø—Ä–∏–º–µ–Ω–∏–ª.

---

**Create ‚Äî —Å–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å**

**–û–ø–∏—Å–∞–Ω–∏–µ**: `Create` –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü—É. –í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ —Ç–µ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –ø–æ —Å—Ö–µ–º–µ —Ç–∞–±–ª–∏—Ü—ã, –∏ –ø–µ—Ä–µ–¥ –≤—Å—Ç–∞–≤–∫–æ–π –≤–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –≤—Ö–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä: email –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω, –∏–º—è –Ω–µ –ø—É—Å—Ç–æ–µ). –ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –≤—Å—Ç–∞–≤–∫–∏ –≤–∞–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –∏ –Ω–∞—Ä—É—à–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π, —á—Ç–æ–±—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —É–ø–∞–ª–æ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º.

SQL-–ø—Ä–∏–º–µ—Ä (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–∞):

```sql
INSERT INTO students (first_name, last_name, email, subject_id, group_id)
VALUES ('–ê–Ω–Ω–∞', '–ò–≤–∞–Ω–æ–≤–∞', 'anna@example.com', 1, 2);
```

–ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä –Ω–∞ Python (sqlite3):

```python
import sqlite3

def create_student(conn, first_name, last_name, email, subject_id=None, group_id=None):
    sql = """
    INSERT INTO students (first_name, last_name, email, subject_id, group_id)
    VALUES (?, ?, ?, ?, ?)
    """
    cur = conn.cursor()
    cur.execute(sql, (first_name, last_name, email, subject_id, group_id))
    return cur.lastrowid
```

–ü–æ—è—Å–Ω–µ–Ω–∏–µ: —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ `conn` (–æ–±—ä–µ–∫—Ç sqlite3.Connection), –≤—ã–ø–æ–ª–Ω—è–µ—Ç INSERT –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `id` —Å–æ–∑–¥–∞–Ω–Ω–æ–π –∑–∞–ø–∏—Å–∏.

---

**Read ‚Äî –ø—Ä–æ—á–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ**

**–û–ø–∏—Å–∞–Ω–∏–µ**: `Read` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞–ø–∏—Å—å(–∏). –ß—Ç–µ–Ω–∏–µ –¥–µ–ª—è—Ç –Ω–∞ –¥–≤–∞ —Å–ª—É—á–∞—è: –ø–æ–ª—É—á–∏—Ç—å –æ–¥–Ω—É –∑–∞–ø–∏—Å—å –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É (`get_by_id`) –∏ –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫/–Ω–∞–±–æ—Ä –∑–∞–ø–∏—Å–µ–π –ø–æ —Ñ–∏–ª—å—Ç—Ä–∞–º (`list`/`search`). –î–ª—è —Å–ø–∏—Å–∫–æ–≤ –ø–æ–ª–µ–∑–Ω—ã —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏ –ª–∏–º–∏—Ç—ã.

SQL-–ø—Ä–∏–º–µ—Ä—ã:

–û–¥–Ω—É –∑–∞–ø–∏—Å—å –ø–æ id:

```sql
SELECT id, first_name, last_name, email, subject_id, group_id
FROM students
WHERE id = 42;
```

–°–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ —Å –∏–º–µ–Ω–µ–º –ø—Ä–µ–¥–º–µ—Ç–∞ (JOIN):

```sql
SELECT s.id, s.first_name || ' ' || s.last_name AS full_name, subj.name AS subject, g.name AS group_name
FROM students s
LEFT JOIN subjects subj ON s.subject_id = subj.id
LEFT JOIN groups g ON s.group_id = g.id
ORDER BY s.last_name, s.first_name;
```

Python-–æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–¥–Ω–æ–π –∑–∞–ø–∏—Å–∏:

```python
def get_student(conn, student_id):
    sql = "SELECT * FROM students WHERE id = ?"
    cur = conn.cursor()
    cur.execute(sql, (student_id,))
    return cur.fetchone()  # –≤–µ—Ä–Ω—ë—Ç sqlite3.Row –∏–ª–∏ None
```

---

**Update ‚Äî –∏–∑–º–µ–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∑–∞–ø–∏—Å—å**

**–û–ø–∏—Å–∞–Ω–∏–µ**: `Update` –º–µ–Ω—è–µ—Ç –æ–¥–Ω–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª–µ–π —É —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—Ç—Ä–æ–∫–∏. –ü—Ä–∞–∫—Ç–∏–∫–∞: –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Ç–æ–ª—å–∫–æ —Ç–µ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–¥–∞–Ω—ã, —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –ø–æ–ª—è –Ω–µ–Ω—É–∂–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏. –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø–æ–ª–µ–∑–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å, —Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫ –ø–æ—Å—Ç—Ä–∞–¥–∞–ª–æ (affected rows), —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –±—ã–ª–∞ –ª–∏ –∑–∞–ø–∏—Å—å –Ω–∞–π–¥–µ–Ω–∞.

SQL-–ø—Ä–∏–º–µ—Ä (–æ–±–Ω–æ–≤–∏—Ç—å email –∏ –≥—Ä—É–ø–ø—É):

```sql
UPDATE students
SET email = 'anna.new@example.com', group_id = 3
WHERE id = 42;
```

Python-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (—É–ø—Ä–æ—â—ë–Ω–Ω–∞—è, –æ–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø–æ–ª—è):

```python
def update_student_email_and_group(conn, student_id, email=None, group_id=None):
    parts = []
    params = []
    if email is not None:
        parts.append("email = ?")
        params.append(email)
    if group_id is not None:
        parts.append("group_id = ?")
        params.append(group_id)
    if not parts:
        return 0  # –Ω–∏—á–µ–≥–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –Ω–µ –Ω—É–∂–Ω–æ
    sql = f"UPDATE students SET {', '.join(parts)} WHERE id = ?"
    params.append(student_id)
    cur = conn.cursor()
    cur.execute(sql, tuple(params))
    return cur.rowcount  # —á–∏—Å–ª–æ –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫
```

---

**Delete ‚Äî —É–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å**

**–û–ø–∏—Å–∞–Ω–∏–µ**: `Delete` —É–¥–∞–ª—è–µ—Ç —Å—Ç—Ä–æ–∫—É –∏–∑ —Ç–∞–±–ª–∏—Ü—ã. –£–¥–∞–ª–µ–Ω–∏–µ –∏–º–µ–µ—Ç –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã, –µ—Å–ª–∏ –µ—Å—Ç—å —Å–≤—è–∑–∏ (FOREIGN KEY). –ü–æ—ç—Ç–æ–º—É –ø—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å—Ö–µ–º—ã –≤–∞–∂–Ω–æ –∑–∞—Ä–∞–Ω–µ–µ —Ä–µ—à–∏—Ç—å: —É–¥–∞–ª–µ–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—è –¥–æ–ª–∂–Ω–æ —É–¥–∞–ª—è—Ç—å –¥–µ—Ç–µ–π (CASCADE), –æ–±–Ω—É–ª—è—Ç—å —Å—Å—ã–ª–∫—É (SET NULL) –∏–ª–∏ –∑–∞–ø—Ä–µ—â–∞—Ç—å—Å—è (RESTRICT/NO ACTION).

SQL-–ø—Ä–∏–º–µ—Ä:

```sql
DELETE FROM students WHERE id = 42;
```

Python:

```python
def delete_student(conn, student_id):
    sql = "DELETE FROM students WHERE id = ?"
    cur = conn.cursor()
    cur.execute(sql, (student_id,))
    return cur.rowcount
```

---

**–ü—Ä–∏–º–µ—Ä—ã –∏–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (–∫–∞–∫ CRUD –≤—ã–≥–ª—è–¥–∏—Ç ¬´–≤ –∂–∏–∑–Ω–∏¬ª)**

1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**

   - Create: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Äî `INSERT users (...)`.
   - Read: –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å ‚Äî `SELECT * FROM users WHERE id = ?`.
   - Update: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–µ–Ω—è–µ—Ç email/–ø–∞—Ä–æ–ª—å ‚Äî `UPDATE users SET email = ? WHERE id = ?`.
   - Delete: —É–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç ‚Äî –ª–∏–±–æ `DELETE` –≤ –ë–î, –ª–∏–±–æ ¬´–º—è–≥–∫–æ–µ¬ª —É–¥–∞–ª–µ–Ω–∏–µ `UPDATE users SET is_active = 0`.

2. **–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ (e-commerce)**

   - Create: –∞–¥–º–∏–Ω –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ–≤–∞—Ä –≤ –∫–∞—Ç–∞–ª–æ–≥ ‚Äî `INSERT products (...)`.
   - Read: —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–∞ ‚Äî `SELECT ... FROM products WHERE id = ?`, —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ ‚Äî `SELECT ... ORDER BY price`.
   - Update: —Å–º–µ–Ω–∞ —Ü–µ–Ω—ã –∏–ª–∏ –Ω–∞–ª–∏—á–∏—è ‚Äî `UPDATE products SET price = ?, stock = ?`.
   - Delete: —É–¥–∞–ª–∏—Ç—å ¬´—É—Å—Ç–∞—Ä–µ–≤—à–∏–π¬ª —Ç–æ–≤–∞—Ä ‚Äî —á–∞—â–µ –¥–µ–ª–∞—é—Ç soft-delete.

3. **–°–∏—Å—Ç–µ–º–∞ —É—á—ë—Ç–∞ (–Ω–∞—à —É—á–µ–±–Ω—ã–π –ø—Ä–∏–º–µ—Ä)**

   - Create: —Å–æ–∑–¥–∞—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞/–ø—Ä–µ–¥–º–µ—Ç/–≥—Ä—É–ø–ø—É.
   - Read: –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤, –ø—Ä–æ—Ñ–∏–ª—å —Å—Ç—É–¥–µ–Ω—Ç–∞ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –ø—Ä–µ–¥–º–µ—Ç–∞ –∏ –≥—Ä—É–ø–ø–æ–π (JOIN).
   - Update: –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞ –≤ –¥—Ä—É–≥—É—é –≥—Ä—É–ø–ø—É –∏–ª–∏ —Å–º–µ–Ω–∏—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–µ–¥–º–µ—Ç.
   - Delete: —É–¥–∞–ª–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç ‚Äî –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç `ON DELETE`: –ª–∏–±–æ —É —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ `subject_id` —Å—Ç–∞–Ω–µ—Ç NULL, –ª–∏–±–æ —Å—Ç—É–¥–µ–Ω—Ç—ã –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω CASCADE).

---

–ö–æ—Ä–æ—Ç–∫–∞—è –ø–∞–º—è—Ç–∫–∞ (—á—Ç–æ –≤–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å CRUD)

- –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ `INSERT`/`UPDATE`: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è, —Ñ–æ—Ä–º–∞—Ç (email), –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è.
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π (UNIQUE/NOT NULL/FOREIGN KEY): –±–∞–∑–∞ –≤—ã–¥–∞—Å—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ ‚Äî –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –Ω—É–∂–Ω–æ –ø–æ–π–º–∞—Ç—å –∏ –≤–µ—Ä–Ω—É—Ç—å –ø–æ–Ω—è—Ç–Ω—É—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ—à–∏–±–∫—É.
- –ü—Ä–∏ `Read` –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ JOIN, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞ –≤–º–µ—Å—Ç–æ `subject_id`).
- –î–ª—è `Update` —É–¥–æ–±–Ω–µ–µ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω—è–µ–º—ã–µ –ø–æ–ª—è –∏ —Å—Ç—Ä–æ–∏—Ç—å `SET` –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏.
- –î–ª—è `Delete` –∑–∞—Ä–∞–Ω–µ–µ —Ä–µ—à–∞–π—Ç–µ –ø–æ–ª–∏—Ç–∏–∫—É –∫–∞—Å–∫–∞–¥–∞ –∏ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –¥–ª—è —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü.

---

# –ß—Ç–æ —Ç–∞–∫–æ–µ API –∏ –ø–æ—á–µ–º—É CRUD ‚Äî –∫–ª—é—á–µ–≤–∞—è —á–∞—Å—Ç—å API

## –ß—Ç–æ —Ç–∞–∫–æ–µ API ‚Äî –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏

**API (Application Programming Interface)** ‚Äî —ç—Ç–æ —Ñ–æ—Ä–º–∞–ª—å–Ω—ã–π –¥–æ–≥–æ–≤–æ—Ä –º–µ–∂–¥—É —á–∞—Å—Ç—è–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã: –Ω–∞–±–æ—Ä –ø—Ä–∞–≤–∏–ª –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –æ–¥–Ω–∞ —á–∞—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –¥—Ä—É–≥–æ–π. API –æ–ø–∏—Å—ã–≤–∞–µ—Ç _—á—Ç–æ_ –º–æ–∂–Ω–æ –ø–æ–ø—Ä–æ—Å–∏—Ç—å —Å–¥–µ–ª–∞—Ç—å –∏ _—á—Ç–æ_ –≤ –æ—Ç–≤–µ—Ç –ø—Ä–∏–¥—ë—Ç, –Ω–æ –Ω–µ –¥–∏–∫—Ç—É–µ—Ç _–∫–∞–∫_ —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤–Ω—É—Ç—Ä–∏.

API –º–æ–∂–µ—Ç –±—ã—Ç—å:

- **–≤–Ω–µ—à–Ω–∏–º** ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, HTTP-API —Å–µ—Ä–≤–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–º –ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ;
- **–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º** ‚Äî –º–æ–¥—É–ª–∏ –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —É –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å —á—ë—Ç–∫–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏/–∫–ª–∞—Å—Å—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ª–æ–π –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º).

–í –æ–±–æ–∏—Ö —Å–ª—É—á–∞—è—Ö **API ‚Äî —ç—Ç–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç**: –≤—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –æ–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö. –ï—Å–ª–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç —Å–æ–±–ª—é–¥—ë–Ω, —Ä–∞–∑–Ω—ã–µ —á–∞—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã –º–æ–≥—É—Ç —Ä–∞–∑–≤–∏–≤–∞—Ç—å—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ.

---

## –ü–æ—á–µ–º—É `CRUD` ‚Äî –æ—Å–Ω–æ–≤–∞ (–∏ —Å–∞–º–∞—è –≤–∞–∂–Ω–∞—è —á–∞—Å—Ç—å) API

–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö ‚Äî —ç—Ç–æ —Å—É—â–Ω–æ—Å—Ç–∏: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∑–∞–∫–∞–∑—ã, —Å—Ç—É–¥–µ–Ω—Ç—ã, –ø—Ä–µ–¥–º–µ—Ç—ã. –î–ª—è –∫–∞–∂–¥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –Ω—É–∂–µ–Ω –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –æ–ø–µ—Ä–∞—Ü–∏–π:

- **Create** ‚Äî —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ä–µ—Å—É—Ä—Å;
- **Read** ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Ä–µ—Å—É—Ä—Å(—ã);
- **Update** ‚Äî –∏–∑–º–µ–Ω–∏—Ç—å —Ä–µ—Å—É—Ä—Å;
- **Delete** ‚Äî —É–¥–∞–ª–∏—Ç—å —Ä–µ—Å—É—Ä—Å.

–≠—Ç–∏ —á–µ—Ç—ã—Ä–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç **—è–¥—Ä–æ API**. –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è, –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ –∏ –æ—Ç—á—ë—Ç—ã ‚Äî —Å—Ç—Ä–æ—è—Ç—Å—è –ø–æ–≤–µ—Ä—Ö CRUD. –ü–æ—ç—Ç–æ–º—É, –ø—Ä–æ–µ–∫—Ç–∏—Ä—É—è API, –ø–µ—Ä–≤—ã–º –¥–µ–ª–æ–º –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç CRUD-–∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è –∫–∞–∂–¥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏: —á—Ç–æ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å, —á—Ç–æ –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å, —á—Ç–æ –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∏ —á—Ç–æ –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å.

---

## –£—Ä–æ–≤–Ω–∏ API –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

–•–æ—Ä–æ—à–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–∞–∑–¥–µ–ª—è–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–∏. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –ø–æ–Ω—è—Ç–Ω—ã–º, –æ–±–ª–µ–≥—á–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —É–ø—Ä–æ—â–∞–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.

–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É—Ä–æ–≤–Ω–µ–π (—Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö):

### 1. DB (connection) ‚Äî –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π —Å–ª–æ–π

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö, –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å—ã—Ä—ã–µ SQL-–∑–∞–ø—Ä–æ—Å—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.

**–ß—Ç–æ –∑–¥–µ—Å—å –¥–µ–ª–∞—é—Ç:** `execute`, `executemany`, `executescript`, `fetchone`, `fetchall`, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ PRAGMA (–≤ SQLite).

**–ü–æ—á–µ–º—É –æ—Ç–¥–µ–ª—å–Ω–æ:** –∞–±—Å—Ç—Ä–∞–≥–∏—Ä—É–µ—Ç –¥–µ—Ç–∞–ª–∏ –°–£–ë–î; –ø—Ä–∏ —Å–º–µ–Ω–µ –°–£–ë–î –º–µ–Ω—è–µ–º —Ç–æ–ª—å–∫–æ —ç—Ç–æ—Ç —Å–ª–æ–π.

**–ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:**

```python
class DB:
    def execute(self, sql: str, params: tuple = ()) -> int: ...
    def fetchone(self, sql: str, params: tuple = ()) -> Row|None: ...
    def fetchall(self, sql: str, params: tuple = ()) -> list[Row]: ...
```

---

### 2. Repository (–∏–ª–∏ Data Access Layer) ‚Äî CRUD

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** —Ä–µ–∞–ª–∏–∑—É–µ—Ç CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π. –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –≤—ã–∑–æ–≤—ã –≤ SQL –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–¥–æ–±–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã (Row, dict, DTO).

**–ß—Ç–æ –∑–¥–µ—Å—å –¥–µ–ª–∞—é—Ç:** `create_student(...)`, `get_student(id)`, `list_students(filters)`, `update_student(id, fields)`, `delete_student(id)`.

**–ü–æ—á–µ–º—É –æ—Ç–¥–µ–ª—å–Ω–æ:** —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É —Å –¥–∞–Ω–Ω—ã–º–∏, –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç SQL –∏ –¥–∞—ë—Ç –µ–¥–∏–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π (–∏–Ω–¥–µ–∫—Å—ã, –∑–∞–ø—Ä–æ—Å—ã).
**–ü—Ä–∏–º–µ—Ä —Ñ—É–Ω–∫—Ü–∏–π:**

```python
class StudentRepo:
    def create(self, first_name, last_name, email, subject_id=None, group_id=None) -> int: ...
    def get(self, student_id) -> dict | None: ...
    def update(self, student_id, **fields) -> int: ...
    def delete(self, student_id) -> int: ...
    def list(self, filters: dict = None) -> list[dict]: ...
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–µ –¥–æ–ª–∂–µ–Ω —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å —Å–ª–æ–∂–Ω—É—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É ‚Äî —Ç–æ–ª—å–∫–æ –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –∏ –±–∞–∑–æ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è).

---

### 3. Service (–±–∏–∑–Ω–µ—Å-—Å–ª–æ–π)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏, –∫–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ CRUD-–æ–ø–µ—Ä–∞—Ü–∏–π, –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è. –ò–º–µ–Ω–Ω–æ —Å—é–¥–∞ –ø–æ–º–µ—â–∞—é—Ç —Å—Ü–µ–Ω–∞—Ä–∏–∏ **¬´–ø–µ—Ä–µ–≤–µ—Å—Ç–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞ –≤ –¥—Ä—É–≥—É—é –≥—Ä—É–ø–ø—É¬ª**, **¬´–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞ –∏ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –µ–≥–æ –≤ –≥—Ä—É–ø–ø—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é¬ª**, **¬´—Å–æ–∑–¥–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç –∏ –æ–ø–æ–≤–µ—Å—Ç–∏—Ç—å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è¬ª** –∏ —Ç.–ø.

**–ü–æ—á–µ–º—É –æ—Ç–¥–µ–ª—å–Ω–æ:** service-—Å–ª–æ–π ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –º–µ—Å—Ç–æ, –≥–¥–µ –∂–∏–≤—ë—Ç –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è; –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –ø—Ä–æ—Å—Ç—ã–º–∏ –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º–∏.

**–ü—Ä–∏–º–µ—Ä (—Å–∏–≥–Ω–∞—Ç—É—Ä—ã):**

```python
class StudentService:
    def transfer_group(self, student_id: int, new_group_id: int) -> None: ...
    def enroll_student(self, data: dict) -> int: ...
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç `transfer_group`:**

- –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —Å—Ç—É–¥–µ–Ω—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (—á–µ—Ä–µ–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π),
- –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —Ü–µ–ª–µ–≤–∞—è –≥—Ä—É–ø–ø–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç,
- –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (—á–µ—Ä–µ–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–ª–∏ –±—Ä–æ—Å–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω—É—é –æ—à–∏–±–∫—É.

---

### 4. Interface (CLI / HTTP / GUI)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å–ª–æ–π, –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤–≤–æ–¥ (—Å –∫–æ–Ω—Å–æ–ª–∏ –∏–ª–∏ –ø–æ HTTP), –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç, –≤—ã–∑—ã–≤–∞–µ—Ç —Å–µ—Ä–≤–∏—Å—ã –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏, –∞ –Ω–µ —Å–æ —Å–ª–æ—è–º–∏ –Ω–∏–∂–µ –Ω–∞–ø—Ä—è–º—É—é.

**–ü–æ—á–µ–º—É –æ—Ç–¥–µ–ª—å–Ω–æ:** –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–µ–Ω—è—Ç—å —Å–ø–æ—Å–æ–± –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è (CLI ‚Üí Web ‚Üí REST API) –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.

**–ü—Ä–∏–º–µ—Ä CLI-–≤—ã–∑–æ–≤–∞:**

```python
# main.py
actions = {
  "1": ("Create student", lambda: cli_create_student()),
  ...
}
# cli_create_student —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –≤—ã–∑—ã–≤–∞–µ—Ç student_service.enroll_student(...)
```

---

## –ü—Ä–∏–º–µ—Ä—ã: –∫–∞–∫ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ

–ù–∏–∂–µ ‚Äî –ø–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞ ¬´—Å–æ–∑–¥–∞—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞ –∏ —Ç—É—Ç –∂–µ –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å¬ª, –ø—Ä–æ—Ö–æ–¥—è—â–∏–π —á–µ—Ä–µ–∑ –≤—Å–µ —É—Ä–æ–≤–Ω–∏.

1. **Interface (CLI):**

   - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –∏–º—è –∏ email ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `student_service.enroll_student(data)`

2. **Service (`StudentService.enroll_student`):**

   - –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç email, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≥—Ä—É–ø–ø–∞ –¥–æ—Å—Ç—É–ø–Ω–∞),
   - –≤—ã–∑—ã–≤–∞–µ—Ç `StudentRepo.create(...)`,
   - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `student_id`.

3. **Repository (`StudentRepo.create`):**

   - —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç SQL `INSERT` –∏ –≤—ã–∑—ã–≤–∞–µ—Ç `DB.execute(sql, params)`,
   - –ø–æ–ª—É—á–∞–µ—Ç `lastrowid` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ.

4. **DB:**

   - –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å, –∫–æ–º–º–∏—Ç–∏—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

–¢–∞–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º –∏ –ø—Ä–æ—Å—Ç—ã–º –¥–ª—è —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏—è.

---

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–∏

1. **–ß–∏—Å—Ç–æ—Ç–∞ –∫–æ–¥–∞ –∏ SOLID.** –ö–∞–∂–¥—ã–π —Å–ª–æ–π —Ä–µ—à–∞–µ—Ç —Å–≤–æ—é –∑–∞–¥–∞—á—É ‚Äî –ª–µ–≥—á–µ —á–∏—Ç–∞—Ç—å –∏ –ø–æ–Ω–∏–º–∞—Ç—å.
2. **–ó–∞–º–µ–Ω–∞ –¥–µ—Ç–∞–ª–µ–π –±–µ–∑ —Ç—Ä–µ–Ω–∏–π.** –•–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–π—Ç–∏ —Å SQLite –Ω–∞ Postgres ‚Äî –º–µ–Ω—è–µ—Ç–µ `DB` –∏, –≤–æ–∑–º–æ–∂–Ω–æ, –Ω–µ–±–æ–ª—å—à–∏–µ SQL-—à–∞–±–ª–æ–Ω—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏; `service` –∏ `interface` –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.
3. **–ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ.** –û–¥–Ω–∞ –∏ —Ç–∞ –∂–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ CLI –∏ —á–µ—Ä–µ–∑ HTTP, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–±–∞ —Å–ª–æ—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–µ—Ä–≤–∏—Å—ã.
4. **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å.** –ú–æ–∂–Ω–æ –º–æ–∫–∏—Ä–æ–≤–∞—Ç—å `DB` –∏–ª–∏ `Repo` –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å `Service` –æ—Ç–¥–µ–ª—å–Ω–æ (–≤ –±—É–¥—É—â–µ–º, –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç–µ –ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã).
5. **–Ø—Å–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.** –û—à–∏–±–∫–∏ –ª–µ–≥—á–µ –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞—Ç—å: –µ—Å–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π SQL ‚Äî —Å–º–æ—Ç—Ä–µ—Ç—å –≤ `Repo/DB`; –µ—Å–ª–∏ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ –Ω–∞—Ä—É—à–µ–Ω—ã ‚Äî —Å–º–æ—Ç—Ä–µ—Ç—å –≤ `Service`; –µ—Å–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π –≤–≤–æ–¥ ‚Äî —Å–º–æ—Ç—Ä–µ—Ç—å –≤ `Interface`.

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º —Ñ—É–Ω–∫—Ü–∏–π –∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫

- **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö —Ç–∏–ø–æ–≤.** –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ª—É—á—à–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Å–ª–æ–≤–∞—Ä–∏ (`dict`) –∏–ª–∏ `sqlite3.Row`, –∞ –Ω–µ —Å—ã—Ä—ã–µ –∫–æ—Ä—Ç–µ–∂–∏.
- **–Ø—Å–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è.** –°–æ–∑–¥–∞–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `NotFoundError`, `ValidationError`, `ConflictError`) –∏ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞—Ç—å –∏—Ö –≤–≤–µ—Ä—Ö ‚Äî —Ç–æ–≥–¥–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–æ–∂–µ—Ç –∫—Ä–∞—Å–∏–≤–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.** –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `NULL` –≤ –ø–æ–ª–µ `NOT NULL`), –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ ‚Äî –≤ `Service`.
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ.** –õ–æ–≥–∏—Ä—É–π—Ç–µ –æ—à–∏–±–∫–∏ –∏, –ø—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ, —Å–∞–º SQL (–≤ dev —Ä–µ–∂–∏–º–µ) –≤ `DB`.

---

# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤ SQL

## –í–≤–µ–¥–µ–Ω–∏–µ ‚Äî –∑–∞—á–µ–º –Ω—É–∂–Ω—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤ —Å—Ö–µ–º–µ

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (constraints) ‚Äî —ç—Ç–æ **–ø—Ä–∞–≤–∏–ª–∞, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –≤ —Å—Ö–µ–º–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**, —á—Ç–æ–±—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞¬≠—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –æ—à–∏–±–æ–∫ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.
–û–Ω–∏ –ø–æ–º–æ–≥–∞—é—Ç –±–∞–∑–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

- **–∑–∞—â–∏—â–∞—Ç—å –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –æ–¥–Ω–∏–º email);
- **–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å —Å–≤—è–∑–µ–π** –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏ (—á—Ç–æ–±—ã –Ω–µ –ø–æ—è–≤–ª—è–ª–∏—Å—å ¬´–≤–∏—Å—è—â–∏–µ¬ª —Å—Å—ã–ª–∫–∏);
- **–æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏–π** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ü–µ–Ω–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 0‚Äì100);
- **—É–º–µ–Ω—å—à–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–≥–æ–≤ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏**, –ø–æ—Å–∫–æ–ª—å–∫—É —á–∞—Å—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î.

–†–∞–∑—É–º–Ω–æ–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ + –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –≤ —Å—Ö–µ–º–µ ‚Äî –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –ª—É—á—à–∏–π –≤—ã–±–æ—Ä.

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–∏–¥—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –∏ –∏—Ö —Å–º—ã—Å–ª

### PRIMARY KEY

`PRIMARY KEY` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å—Ç—Ä–æ–∫–∏.

- –û–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `INTEGER PRIMARY KEY AUTOINCREMENT` (–≤ SQLite) –¥–ª—è –∞–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–Ω–æ–≥–æ id.
- –í —Ç–∞–±–ª–∏—Ü–µ –º–æ–∂–µ—Ç –±—ã—Ç—å **—Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω** PRIMARY KEY; –æ–Ω –ø–æ —Å—É—Ç–∏ –∑–∞–¥–∞—ë—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∏ not-null –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞ (–∏–ª–∏ –Ω–∞–±–æ—Ä–∞ —Å—Ç–æ–ª–±—Ü–æ–≤).

**–ü—Ä–∏–º–µ—Ä:**

```sql
CREATE TABLE subjects (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT NOT NULL
);
```

---

### UNIQUE

`UNIQUE` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Å—Ç–æ–ª–±—Ü–µ (–∏–ª–∏ –≥—Ä—É–ø–ø–µ —Å—Ç–æ–ª–±—Ü–æ–≤) **–Ω–µ –±—É–¥—É—Ç –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è**.
–ü–æ–ª–µ–∑–Ω–æ –¥–ª—è email, –∏–º–µ–Ω —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ–º –∏ —Ç.–ø.

**–ü—Ä–∏–º–µ—Ä (–æ–¥–∏–Ω–æ—á–Ω—ã–π —Å—Ç–æ–ª–±–µ—Ü):**

```sql
CREATE TABLE students (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  email TEXT NOT NULL UNIQUE
);
```

**–ü—Ä–∏–º–µ—Ä (—Å–æ—Å—Ç–∞–≤–Ω–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å):**

```sql
CREATE TABLE enrollment (
  student_id INTEGER,
  subject_id INTEGER,
  PRIMARY KEY (student_id, subject_id)  -- –Ω–µ –¥–∞—Å—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –ø–∞—Ä
);
```

---

### NOT NULL

`NOT NULL` –∑–∞–ø—Ä–µ—â–∞–µ—Ç –ø–æ–ª–µ —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º `NULL`.
–ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –ø–æ–ª—è–º (–∏–º—è, —Ñ–∞–º–∏–ª–∏—è, email –∏ —Ç.–ø.).

**–ü—Ä–∏–º–µ—Ä:**

```sql
CREATE TABLE groups (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT NOT NULL
);
```

---

### CHECK

`CHECK` –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ –±—É–ª–µ–≤–æ-—É—Å–ª–æ–≤–∏–µ –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏—è —Å—Ç–æ–ª–±—Ü–∞. –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –∏–ª–∏ —Å–ø–∏—Å–∫–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π.
–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: –≤ —Ä–∞–∑–Ω—ã—Ö –°–£–ë–î –ø–æ–≤–µ–¥–µ–Ω–∏–µ `CHECK` –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è, –Ω–æ –≤ SQLite –æ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è.

**–ü—Ä–∏–º–µ—Ä—ã:**

- –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å —Ä–æ–ª—å –≤ `group_members`:

```sql
role TEXT NOT NULL DEFAULT 'member' CHECK (role IN ('member', 'leader', 'assistant'))
```

- –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞:

```sql
grade REAL CHECK (grade >= 0 AND grade <= 100)
```

---

### DEFAULT

`DEFAULT` –∑–∞–¥–∞—ë—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –µ—Å–ª–∏ –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω–æ.
**–ü—Ä–∏–º–µ—Ä:**

```sql
created_at TEXT DEFAULT CURRENT_TIMESTAMP
```

---

### FOREIGN KEY + ON DELETE / ON UPDATE

`FOREIGN KEY` —Å–≤—è–∑—ã–≤–∞–µ—Ç —Å—Ç–æ–ª–±–µ—Ü —Å –∫–ª—é—á–æ–º –≤ –¥—Ä—É–≥–æ–π —Ç–∞–±–ª–∏—Ü–µ ‚Äî —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å—Å—ã–ª–æ—á–Ω–æ–π —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏.
–û—á–µ–Ω—å –≤–∞–∂–Ω–æ —è–≤–Ω–æ –∑–∞–¥–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –∑–∞–ø–∏—Å–∏ —á–µ—Ä–µ–∑ `ON DELETE` / `ON UPDATE`.

**–¢–∏–ø–∏—á–Ω—ã–µ –æ–ø—Ü–∏–∏:**

- `ON DELETE CASCADE` ‚Äî –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ä–æ–¥–∏—Ç–µ–ª—è —É–¥–∞–ª—è—é—Ç—Å—è –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏-–¥–µ—Ç–∏.

  - –£–¥–æ–±–Ω–æ –¥–ª—è —Å–≤—è–∑–µ–π ¬´–∂—ë—Å—Ç–∫–æ–≥–æ –≤–ª–∞–¥–µ–Ω–∏—è¬ª.

- `ON DELETE SET NULL` ‚Äî –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ä–æ–¥–∏—Ç–µ–ª—è —É –¥–æ—á–µ—Ä–Ω–∏—Ö –∑–∞–ø–∏—Å–µ–π –ø–æ–ª–µ –≤–Ω–µ—à–Ω–µ–≥–æ –∫–ª—é—á–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `NULL`.

  - –£–¥–æ–±–Ω–æ, –∫–æ–≥–¥–∞ –Ω–µ —Ö–æ—Ç–∏–º —Ç–µ—Ä—è—Ç—å –¥–æ—á–µ—Ä–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—Ç—É–¥–µ–Ω—Ç—ã –æ—Å—Ç–∞—é—Ç—Å—è –≤ –±–∞–∑–µ, –¥–∞–∂–µ –µ—Å–ª–∏ –ø—Ä–µ–¥–º–µ—Ç —É–¥–∞–ª—ë–Ω).

- `ON DELETE RESTRICT` / `NO ACTION` ‚Äî –∑–∞–ø—Ä–µ—â–∞–µ—Ç —É–¥–∞–ª–µ–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—è, –µ—Å–ª–∏ –µ—Å—Ç—å –¥–æ—á–µ—Ä–Ω–∏–µ –∑–∞–ø–∏—Å–∏.

  - –ü–æ–ª–µ–∑–Ω–æ, –µ—Å–ª–∏ —É–¥–∞–ª–µ–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —è–≤–Ω—ã–º –∏ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ–º—ã–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–æ–π.

**–ü—Ä–∏–º–µ—Ä:**

```sql
CREATE TABLE students (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  first_name TEXT NOT NULL,
  last_name TEXT NOT NULL,
  email TEXT NOT NULL UNIQUE,
  subject_id INTEGER,
  group_id INTEGER,
  FOREIGN KEY (subject_id) REFERENCES subjects(id) ON DELETE SET NULL,
  FOREIGN KEY (group_id) REFERENCES groups(id) ON DELETE SET NULL
);
```

**–í–∞–∂–Ω–æ –¥–ª—è SQLite:** –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–∫–ª—é—á–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –≤–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–µ–π:

```sql
PRAGMA foreign_keys = ON;
```

–ï—Å–ª–∏ `PRAGMA foreign_keys` –≤—ã–∫–ª—é—á–µ–Ω, SQLite **–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç** FK-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è!

---

## –ü—Ä–∏–º–µ—Ä—ã: –∫–∞–∫ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ

### 1) –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–∞ email

–ï—Å–ª–∏ `email` –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ `UNIQUE`, –ø–æ–ø—ã—Ç–∫–∞ –≤—Å—Ç–∞–≤–∏—Ç—å –¥—Ä—É–≥–æ–π —Å—Ç—É–¥–µ–Ω—Ç —Å —Ç–µ–º –∂–µ email –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –æ—à–∏–±–∫–µ (–≤ Python ‚Äî `sqlite3.IntegrityError`). –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –Ω–µ—É–¥–æ–±–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏ –∏–∑–±–∞–≤–ª—è–µ—Ç –æ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.

**SQL:**

```sql
INSERT INTO students (first_name, last_name, email) VALUES ('–ò–≤–∞–Ω', '–ò–≤–∞–Ω–æ–≤', 'ivan@example.com');
-- –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ –≤—Å—Ç–∞–≤–∫–∏ —Å —Ç–µ–º –∂–µ email –≤—ã–∑–æ–≤–µ—Ç –æ—à–∏–±–∫—É UNIQUE constraint.
```

### 2) –¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å —Å—Å—ã–ª–æ–∫ ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞

–ï—Å–ª–∏ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º `ON DELETE SET NULL` –¥–ª—è `subject_id`, —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞ –Ω–µ —É–¥–∞–ª–∏—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤, –∞ —Ç–æ–ª—å–∫–æ –æ–±–Ω—É–ª–∏—Ç –∏—Ö `subject_id`. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `ON DELETE CASCADE`, –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø—Ä–µ–¥–º–µ—Ç–∞ —É–¥–∞–ª—è—Ç—Å—è –∏ –≤—Å–µ —Å—Ç—É–¥–µ–Ω—Ç—ã, —É –∫–æ—Ç–æ—Ä—ã—Ö —ç—Ç–æ—Ç –ø—Ä–µ–¥–º–µ—Ç –±—ã–ª –æ—Å–Ω–æ–≤–Ω—ã–º ‚Äî —ç—Ç–æ –æ–ø–∞—Å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –Ω–æ –∏–Ω–æ–≥–¥–∞ –∂–µ–ª–∞–µ–º–æ–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É–¥–∞–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π).

**–ü–æ–∫–∞–∑–∞—Ç–µ–ª—å–Ω—ã–π SQL:**

```sql
-- —É–¥–∞–ª—è–µ–º subject —Å id = 2
DELETE FROM subjects WHERE id = 2;
-- –ø—Ä–∏ ON DELETE SET NULL: —É —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ subject_id —Å—Ç–∞–Ω–µ—Ç NULL
-- –ø—Ä–∏ ON DELETE CASCADE: —Å—Ç—É–¥–µ–Ω—Ç—ã —Å subject_id=2 –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã
```

---

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –≤ Python (sqlite3)

–ö–æ–≥–¥–∞ –ë–î –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –Ω–∞—Ä—É—à–µ–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –æ–Ω–∞ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É. –í sqlite3 —ç—Ç–æ `sqlite3.IntegrityError`. –ù–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å—Ç–æ–∏—Ç –ª–æ–≤–∏—Ç—å —Ç–∞–∫–∏–µ –æ—à–∏–±–∫–∏ –∏ –ø—Ä–µ–≤—Ä–∞—â–∞—Ç—å –∏—Ö –≤ –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

**–ü—Ä–∏–º–µ—Ä:**

```python
import sqlite3

def create_student(conn, first_name, last_name, email, subject_id=None, group_id=None):
    sql = """
    INSERT INTO students (first_name, last_name, email, subject_id, group_id)
    VALUES (?, ?, ?, ?, ?)
    """
    try:
        cur = conn.cursor()
        cur.execute(sql, (first_name, last_name, email, subject_id, group_id))
        conn.commit()
        return cur.lastrowid
    except sqlite3.IntegrityError as e:
        # –ø—Ä–æ—Å—Ç–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞: —Ä–∞–∑–ª–∏—á–∞–µ–º –ø–æ —Ç–µ–∫—Å—Ç—É –æ—à–∏–±–∫–∏ (–º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –ø–æ –∫–æ–¥—É –≤ –¥—Ä—É–≥–∏—Ö –°–£–ë–î)
        msg = str(e).lower()
        if 'unique' in msg and 'email' in msg:
            raise ValueError("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º email —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç")
        else:
            raise
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—ã—Ä–æ–π —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ –ë–î –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é ‚Äî —Ñ–æ—Ä–º–∏—Ä—É–π—Ç–µ —á–∏—Ç–∞–±–µ–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.

---

## CHECK –≤ SQLite ‚Äî –Ω—é–∞–Ω—Å—ã –∏ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

`CHECK` ‚Äî –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –Ω–æ –≤ SQLite –µ—Å—Ç—å –Ω—é–∞–Ω—Å—ã:

- SQLite –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `CHECK`, –Ω–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –≤ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏—è—Ö. –û–±—ã—á–Ω–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç.
- `CHECK` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ `INSERT` –∏ `UPDATE`.
- `CHECK` —É–¥–æ–±–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –ø—Ä–∞–≤–∏–ª (–¥–∏–∞–ø–∞–∑–æ–Ω—ã, –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è), –Ω–æ –Ω–µ –¥–ª—è —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏, –∑–∞–≤–∏—Å—è—â–µ–π –æ—Ç –¥—Ä—É–≥–∏—Ö —Ç–∞–±–ª–∏—Ü.

**–ü—Ä–∏–º–µ—Ä ‚Äî —Ä–æ–ª—å —É—á–∞—Å—Ç–Ω–∏–∫–∞ –≥—Ä—É–ø–ø—ã:**

```sql
CREATE TABLE group_members (
  group_id INTEGER NOT NULL,
  student_id INTEGER NOT NULL,
  role TEXT NOT NULL DEFAULT 'member' CHECK(role IN ('member','leader','assistant')),
  PRIMARY KEY (group_id, student_id),
  FOREIGN KEY (group_id) REFERENCES groups(id) ON DELETE CASCADE,
  FOREIGN KEY (student_id) REFERENCES students(id) ON DELETE CASCADE
);
```

---

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ DDL-–ø—Ä–∏–º–µ—Ä—ã (–≥–æ—Ç–æ–≤—ã–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞)

–ù–∏–∂–µ ‚Äî –∫–æ–º–ø–∞–∫—Ç–Ω–∞—è —Å—Ö–µ–º–∞ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ —Å —Ç—Ä–µ–º—è —Å—É—â–Ω–æ—Å—Ç—è–º–∏. –ú–æ–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤ SQLiteStudio –∏–ª–∏ –∏–∑ Python (—á–µ—Ä–µ–∑ `executescript`).

```sql
PRAGMA foreign_keys = ON;

-- groups
CREATE TABLE IF NOT EXISTS groups (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT NOT NULL UNIQUE
);

-- subjects
CREATE TABLE IF NOT EXISTS subjects (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT NOT NULL UNIQUE,
  CHECK (length(name) > 0)
);

-- students
CREATE TABLE IF NOT EXISTS students (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  first_name TEXT NOT NULL,
  last_name TEXT NOT NULL,
  email TEXT NOT NULL UNIQUE,
  subject_id INTEGER,
  group_id INTEGER,
  FOREIGN KEY (subject_id) REFERENCES subjects(id) ON DELETE SET NULL,
  FOREIGN KEY (group_id) REFERENCES groups(id) ON DELETE SET NULL,
  CHECK (length(first_name) > 0 AND length(last_name) > 0)
);
```

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π ‚Äî –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞

1. **–î—É–º–∞–π—Ç–µ –æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å–µ–º–∞–Ω—Ç–∏–∫–µ `ON DELETE`.**

   - –ï—Å–ª–∏ –¥–æ—á–µ—Ä–Ω—è—è —Å—É—â–Ω–æ—Å—Ç—å –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω–∞ –±–µ–∑ —Ä–æ–¥–∏—Ç–µ–ª—è ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `CASCADE`.
   - –ï—Å–ª–∏ –¥–æ—á–µ—Ä–Ω—è—è —Å—É—â–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–∞ —Å–∞–º–∞ –ø–æ —Å–µ–±–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—Ç—É–¥–µ–Ω—Ç—ã) ‚Äî —á–∞—â–µ `SET NULL` –∏–ª–∏ `RESTRICT`.

2. **UNIQUE –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –≤ –∫–æ–¥–µ.**

   - –î–∞–∂–µ –µ—Å–ª–∏ –≤—ã –ø—Ä–æ–≤–µ—Ä—è–µ—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –≤ –∫–æ–¥–µ, –≥–æ–Ω–∫–∏ –∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –º–æ–≥—É—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –¥—É–±–ª—è–º; —Ç–æ–ª—å–∫–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ –ë–î –¥–µ–ª–∞–µ—Ç —ç—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏–π–Ω–æ.

3. **NOT NULL –¥–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π.**

   - –ù–µ –¥–æ–≤–µ—Ä—è–π—Ç–µ —Ç–æ–ª—å–∫–æ UI ‚Äî –¥–µ–ª–∞–π—Ç–µ `NOT NULL` —Ç–∞–º, –≥–¥–µ –ø–æ–ª–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.

4. **CHECK –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤.**

   - –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ –Ω–∞–±–æ—Ä—ã –∑–Ω–∞—á–µ–Ω–∏–π –∏ –¥–∏–∞–ø–∞–∑–æ–Ω—ã —á–∏—Å–µ–ª —á–µ—Ä–µ–∑ `CHECK`.

5. **DEFAULT –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞.**

   - –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –ø–æ–ª–µ–π —Ä–æ–ª–∏, —Å—Ç–∞—Ç—É—Å–∞ –∏ —Ç. –ø.

6. **–õ–æ–≥–∏–∫–∞ + –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è.**

   - –ù–µ –ø—ã—Ç–∞–π—Ç–µ—Å—å –ø–æ–º–µ—Å—Ç–∏—Ç—å –≤—Å—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤ `CHECK` –∏–ª–∏ —Ç—Ä–∏–≥–≥–µ—Ä—ã ‚Äî –¥–µ–ª–∞–π—Ç–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ `Service`, –∞ –±–∞–∑–æ–≤—É—é —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å ‚Äî –≤ —Å—Ö–µ–º–µ.

---

# –ü—Ä–∞–∫—Ç–∏–∫–∞: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è CRUD

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –º—ã —Ä–∞–∑–æ–±—Ä–∞–ª–∏—Å—å —Å –∫–æ–Ω—Ü–µ–ø—Ü–∏–µ–π CRUD, API –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ –¥–∞–Ω–Ω—ã—Ö, —Å–∞–º–æ–µ –≤—Ä–µ–º—è –ø—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Å—ë –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ.

–ú—ã —Å–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ—Å—Ç–æ–µ, –Ω–æ —Ö–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ **Python + SQLite**, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —Ç—Ä—ë—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π ‚Äî **—Å—Ç—É–¥–µ–Ω—Ç—ã**, **–≥—Ä—É–ø–ø—ã** –∏ **–ø—Ä–µ–¥–º–µ—Ç—ã**, –∞ —Ç–∞–∫–∂–µ –Ω–µ–±–æ–ª—å—à—É—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É: –ø–µ—Ä–µ–≤–æ–¥ —Å—Ç—É–¥–µ–Ω—Ç–∞ –∏–∑ –æ–¥–Ω–æ–π –≥—Ä—É–ø–ø—ã –≤ –¥—Ä—É–≥—É—é.

–ù–∞—à–∞ —Ü–µ–ª—å ‚Äî –Ω–µ –ø—Ä–æ—Å—Ç–æ –∑–∞—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ¬´—Ä–∞–±–æ—Ç–∞—Ç—å¬ª, –∞ –Ω–∞—É—á–∏—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ **—Ä–∞–∑–¥–µ–ª—è—Ç—å –ª–æ–≥–∏–∫—É**: –≥–¥–µ —Ö—Ä–∞–Ω–∏—Ç—å SQL-–∑–∞–ø—Ä–æ—Å—ã, –≥–¥–µ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏–∏, –∏ –∫–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è.

---

## 1. –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ú—ã –±—É–¥–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ç—Ä–µ–º—è —Ç–∞–±–ª–∏—Ü–∞–º–∏: **students**, **groups** –∏ **subjects**.
–í —Ç–∞–±–ª–∏—Ü–∞—Ö –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö.

```sql
PRAGMA foreign_keys = ON;

CREATE TABLE IF NOT EXISTS groups (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL UNIQUE
);

CREATE TABLE IF NOT EXISTS subjects (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL UNIQUE
);

CREATE TABLE IF NOT EXISTS students (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    first_name TEXT NOT NULL,
    last_name TEXT NOT NULL,
    email TEXT NOT NULL UNIQUE,
    group_id INTEGER,
    subject_id INTEGER,
    FOREIGN KEY (group_id) REFERENCES groups(id) ON DELETE SET NULL,
    FOREIGN KEY (subject_id) REFERENCES subjects(id) ON DELETE SET NULL
);
```

üîπ –ó–¥–µ—Å—å:

- –ö–∞–∂–¥—ã–π —Å—Ç—É–¥–µ–Ω—Ç –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –æ–¥–Ω–æ–π –≥—Ä—É–ø–ø–µ –∏ –º–æ–∂–µ—Ç –∏–∑—É—á–∞—Ç—å –æ–¥–∏–Ω –ø—Ä–µ–¥–º–µ—Ç.
- –ï—Å–ª–∏ —É–¥–∞–ª–∏—Ç—å –≥—Ä—É–ø–ø—É –∏–ª–∏ –ø—Ä–µ–¥–º–µ—Ç, —Å—Ç—É–¥–µ–Ω—Ç—ã –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è, –∞ –ø—Ä–æ—Å—Ç–æ —Ç–µ—Ä—è—é—Ç —Å–≤—è–∑—å (`SET NULL`).
- Email —Å—Ç—É–¥–µ–Ω—Ç–∞ —É–Ω–∏–∫–∞–ª–µ–Ω.
- –í—Å–µ –ø–æ–ª—è –∏–º–µ–Ω–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã (`NOT NULL`).

---

## 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é —á–∞—Å—Ç—å –ª–æ–≥–∏–∫–∏.

```
crud_app/
‚îÇ
‚îú‚îÄ‚îÄ core.py         # –∫–ª–∞—Å—Å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö (—Å–æ–∑–¥–∞–Ω–∏–µ, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤)
‚îú‚îÄ‚îÄ repository.py   # CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏ (Create, Read, Update, Delete)
‚îú‚îÄ‚îÄ logic.py        # –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–µ–≤–æ–¥ —Å—Ç—É–¥–µ–Ω—Ç–∞ –≤ –¥—Ä—É–≥—É—é –≥—Ä—É–ø–ø—É)
‚îú‚îÄ‚îÄ interface.py    # —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–º–µ–Ω—é –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π)
‚îî‚îÄ‚îÄ main.py         # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–æ–≥—Ä–∞–º–º—É
```

–¢–∞–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç—É –±—ã—Ç—å –≥–∏–±–∫–∏–º:

- –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å SQLite –Ω–∞ PostgreSQL ‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å `core.py`;
- –µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ ‚Äî –º–µ–Ω—è–µ–º `logic.py`, –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

---

## 3. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `core.py` ‚Äî –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ë–î

```python
# core.py
import sqlite3

class Database:
    def __init__(self, db_name="students.db"):
        self.db_name = db_name
        self.conn = sqlite3.connect(self.db_name)
        self.conn.execute("PRAGMA foreign_keys = ON;")

    def executescript(self, script: str):
        """–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ SQL-—Å–∫—Ä–∏–ø—Ç–∞ (–¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü)"""
        with self.conn:
            self.conn.executescript(script)

    def execute(self, query, params=(), fetchone=False, fetchall=False, commit=False):
        """–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤"""
        cur = self.conn.cursor()
        cur.execute(query, params)
        if commit:
            self.conn.commit()
        if fetchone:
            return cur.fetchone()
        if fetchall:
            return cur.fetchall()

    def close(self):
        self.conn.close()
```

–≠—Ç–æ—Ç –∫–ª–∞—Å—Å –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –≤—Å—é —Ä–∞–±–æ—Ç—É —Å –±–∞–∑–æ–π: –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –∫–æ–º–º–∏—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.
–ú—ã –∏–∑–±–µ–≥–∞–µ–º –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ–º —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º.

---

## 4. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `repository.py` ‚Äî CRUD –¥–ª—è –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π

–í —ç—Ç–æ–º –º–æ–¥—É–ª–µ –æ–ø—Ä–µ–¥–µ–ª–∏–º –∫–ª–∞—Å—Å `Repository`, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤, –≥—Ä—É–ø–ø –∏ –ø—Ä–µ–¥–º–µ—Ç–æ–≤.
–ö–∞–∂–¥—ã–π –º–µ—Ç–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–¥–Ω–æ–π CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏.

```python
# repository.py
from core import Database

class Repository:
    def __init__(self, db: Database):
        self.db = db

    # ---------- –ì–†–£–ü–ü–´ ----------
    def create_group(self, name):
        query = "INSERT INTO groups (name) VALUES (?)"
        self.db.execute(query, (name,), commit=True)

    def get_all_groups(self):
        return self.db.execute("SELECT * FROM groups", fetchall=True)

    def update_group(self, group_id, new_name):
        self.db.execute("UPDATE groups SET name = ? WHERE id = ?", (new_name, group_id), commit=True)

    def delete_group(self, group_id):
        self.db.execute("DELETE FROM groups WHERE id = ?", (group_id,), commit=True)

    # ---------- –ü–†–ï–î–ú–ï–¢–´ ----------
    def create_subject(self, name):
        self.db.execute("INSERT INTO subjects (name) VALUES (?)", (name,), commit=True)

    def get_all_subjects(self):
        return self.db.execute("SELECT * FROM subjects", fetchall=True)

    def update_subject(self, subject_id, new_name):
        self.db.execute("UPDATE subjects SET name = ? WHERE id = ?", (new_name, subject_id), commit=True)

    def delete_subject(self, subject_id):
        self.db.execute("DELETE FROM subjects WHERE id = ?", (subject_id,), commit=True)

    # ---------- –°–¢–£–î–ï–ù–¢–´ ----------
    def create_student(self, first_name, last_name, email, group_id=None, subject_id=None):
        query = """
        INSERT INTO students (first_name, last_name, email, group_id, subject_id)
        VALUES (?, ?, ?, ?, ?)
        """
        self.db.execute(query, (first_name, last_name, email, group_id, subject_id), commit=True)

    def get_all_students(self):
        return self.db.execute("""
        SELECT s.id, s.first_name, s.last_name, s.email, g.name as group_name, sub.name as subject_name
        FROM students s
        LEFT JOIN groups g ON s.group_id = g.id
        LEFT JOIN subjects sub ON s.subject_id = sub.id
        """, fetchall=True)

    def update_student_email(self, student_id, new_email):
        self.db.execute("UPDATE students SET email = ? WHERE id = ?", (new_email, student_id), commit=True)

    def delete_student(self, student_id):
        self.db.execute("DELETE FROM students WHERE id = ?", (student_id,), commit=True)
```

–ó–¥–µ—Å—å –º—ã –≤–∏–¥–∏–º –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π CRUD:

- **Create** ‚Äî –≤—Å—Ç–∞–≤–∫–∞ –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π.
- **Read** ‚Äî —á—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (—Å JOIN –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è).
- **Update** ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π.
- **Delete** ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ.

---

## 5. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –≤ `logic.py`

–¢–µ–ø–µ—Ä—å –¥–æ–±–∞–≤–∏–º –Ω–µ–º–Ω–æ–≥–æ ¬´–∂–∏–∑–Ω–∏¬ª –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Äî –æ–ø–µ—Ä–∞—Ü–∏—é –ø–µ—Ä–µ–≤–æ–¥–∞ —Å—Ç—É–¥–µ–Ω—Ç–∞ –≤ –¥—Ä—É–≥—É—é –≥—Ä—É–ø–ø—É.

–≠—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏, –ø–æ—ç—Ç–æ–º—É –º—ã –≤—ã–ø–æ–ª–Ω—è–µ–º –µ—ë **–≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**.

```python
# logic.py
from core import Database

def transfer_student_to_group(db: Database, student_id: int, new_group_id: int):
    """–ü–µ—Ä–µ–≤–æ–¥ —Å—Ç—É–¥–µ–Ω—Ç–∞ –≤ –¥—Ä—É–≥—É—é –≥—Ä—É–ø–ø—É"""
    try:
        with db.conn:
            db.execute("UPDATE students SET group_id = ? WHERE id = ?", (new_group_id, student_id))
    except Exception as e:
        print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–≤–æ–¥–µ: {e}")
```

–ï—Å–ª–∏ –ø–µ—Ä–µ–≤–æ–¥ –±—É–¥–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±–Ω–æ–≤–∏—Ç—å –≥—Ä—É–ø–ø—É –∏ –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –≤ –∂—É—Ä–Ω–∞–ª –∏–∑–º–µ–Ω–µ–Ω–∏–π), –≤—Å—ë –¥–æ–ª–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –∞—Ç–æ–º–∞—Ä–Ω–æ.
–ë–ª–∞–≥–æ–¥–∞—Ä—è `with db.conn:` ‚Äî SQLite –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –æ—à–∏–±–∫–∞.

---

## 6. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ ‚Äî `interface.py`

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±—É–¥–µ—Ç –ø—Ä–æ—Å—Ç—ã–º: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –º–µ–Ω—é —Å –Ω–æ–º–µ—Ä–∞–º–∏ –¥–µ–π—Å—Ç–≤–∏–π –∏ –≤—ã–±–∏—Ä–∞–µ—Ç –Ω—É–∂–Ω–æ–µ.
–ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–æ–≤–∞—Ä—å, –≥–¥–µ –∫–ª—é—á ‚Äî —ç—Ç–æ —Ü–∏—Ñ—Ä–∞, –∞ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî –∫–æ—Ä—Ç–µ–∂ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Ñ—É–Ω–∫—Ü–∏–µ–π, –∫–æ—Ç–æ—Ä—É—é –Ω—É–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å.

```python
# interface.py
from repository import Repository
from logic import transfer_student_to_group

def show_data(data):
    """–£–¥–æ–±–Ω—ã–π –≤—ã–≤–æ–¥ —Ç–∞–±–ª–∏—Ü—ã –¥–∞–Ω–Ω—ã—Ö"""
    if not data:
        print("–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.")
    else:
        for row in data:
            print(row)

def menu(repo: Repository):
    actions = {
        "1": ("–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤", lambda: show_data(repo.get_all_students())),
        "2": ("–î–æ–±–∞–≤–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞", lambda: repo.create_student(
            input("–ò–º—è: "), input("–§–∞–º–∏–ª–∏—è: "), input("Email: ")
        )),
        "3": ("–£–¥–∞–ª–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞", lambda: repo.delete_student(int(input("ID —Å—Ç—É–¥–µ–Ω—Ç–∞: ")))),
        "4": ("–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –≥—Ä—É–ø–ø—ã", lambda: show_data(repo.get_all_groups())),
        "5": ("–î–æ–±–∞–≤–∏—Ç—å –≥—Ä—É–ø–ø—É", lambda: repo.create_group(input("–ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã: "))),
        "6": ("–ü–µ—Ä–µ–≤–µ—Å—Ç–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞ –≤ –¥—Ä—É–≥—É—é –≥—Ä—É–ø–ø—É", lambda: transfer_student_to_group(
            repo.db,
            int(input("ID —Å—Ç—É–¥–µ–Ω—Ç–∞: ")),
            int(input("ID –Ω–æ–≤–æ–π –≥—Ä—É–ø–ø—ã: "))
        )),
        "0": ("–í—ã—Ö–æ–¥", lambda: exit())
    }

    while True:
        print("\n--- –ú–ï–ù–Æ ---")
        for key, (desc, _) in actions.items():
            print(f"{key}. {desc}")
        choice = input("–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ: ")
        if choice in actions:
            actions[choice][1]()
        else:
            print("–ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.")
```

---

## 7. –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Äî `main.py`

```python
# main.py
from core import Database
from repository import Repository
from interface import menu

CREATE_SCRIPT = """
PRAGMA foreign_keys = ON;

CREATE TABLE IF NOT EXISTS groups (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL UNIQUE
);

CREATE TABLE IF NOT EXISTS subjects (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL UNIQUE
);

CREATE TABLE IF NOT EXISTS students (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    first_name TEXT NOT NULL,
    last_name TEXT NOT NULL,
    email TEXT NOT NULL UNIQUE,
    group_id INTEGER,
    subject_id INTEGER,
    FOREIGN KEY (group_id) REFERENCES groups(id) ON DELETE SET NULL,
    FOREIGN KEY (subject_id) REFERENCES subjects(id) ON DELETE SET NULL
);
"""

def main():
    db = Database()
    db.executescript(CREATE_SCRIPT)
    repo = Repository(db)
    menu(repo)
    db.close()

if __name__ == "__main__":
    main()
```

---

–û—Ç–ª–∏—á–Ω–æ üëè
**Store App** ‚Äî –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–π –≤—ã–±–æ—Ä: –ø–æ–Ω—è—Ç–Ω–∞—è –±–∏–∑–Ω–µ—Å-–º–æ–¥–µ–ª—å, –ª–æ–≥–∏—á–Ω—ã–µ —Å–≤—è–∑–∏, –º–Ω–æ–≥–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ CRUD.
–ù–∏–∂–µ —è –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª **–ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª –¥–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏**, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É –≤—Å—Ç–∞–≤–∏—Ç—å –≤ –∫—É—Ä—Å.
–û–Ω –Ω–∞–ø–∏—Å–∞–Ω –≤ –ø–æ–≤–µ—Å—Ç–≤–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π, ‚Äú—É—á–µ–±–Ω–æ–π‚Äù —Ñ–æ—Ä–º–µ ‚Äî —Å—Ç—É–¥–µ–Ω—Ç—ã —Å–º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å, –ø–æ–Ω–∏–º–∞—Ç—å, –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å —à–∞–≥–∏ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è.

---

# –ü—Ä–∞–∫—Ç–∏–∫–∞ (–°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ): ¬´Store App ‚Äî –º–∞–≥–∞–∑–∏–Ω —Ç–æ–≤–∞—Ä–æ–≤¬ª

## –¶–µ–ª—å –ø—Ä–∞–∫—Ç–∏–∫–∏

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —É–º–µ—Ç—å —Ö—Ä–∞–Ω–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤, –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ –∑–∞–∫–∞–∑–æ–≤, –≤—ã–ø–æ–ª–Ω—è—Ç—å –≤—Å–µ CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø—Ä–æ—Å—Ç—É—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É ‚Äî –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ —Å –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–≤–∞—Ä–∞ –Ω–∞ —Å–∫–ª–∞–¥–µ.

–ß—Ç–æ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

- —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–∞–±–ª–∏—Ü —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ (`UNIQUE`, `NOT NULL`, `CHECK`, `FOREIGN KEY`);
- —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ CRUD (Create, Read, Update, Delete);
- —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–∏ –ª–æ–≥–∏–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ —É—Ä–æ–≤–Ω—è–º;
- —Ä–∞–±–æ—Ç–µ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Python –∏ `sqlite3`.

---

## –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–°–æ–∑–¥–∞—Ç—å —Ç—Ä–∏ —Ç–∞–±–ª–∏—Ü—ã:

### 1. `categories` ‚Äî –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤

–°–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π, –∫ –∫–æ—Ç–æ—Ä—ã–º –æ—Ç–Ω–æ—Å—è—Ç—Å—è —Ç–æ–≤–∞—Ä—ã.

| –ü–æ–ª–µ   | –¢–∏–ø     | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è               | –û–ø–∏—Å–∞–Ω–∏–µ                           |
| ------ | ------- | ------------------------- | ---------------------------------- |
| `id`   | INTEGER | PRIMARY KEY AUTOINCREMENT | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ |
| `name` | TEXT    | UNIQUE, NOT NULL          | –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏                 |

**–ü—Ä–∏–º–µ—Ä:**
‚Äú–û–¥–µ–∂–¥–∞‚Äù, ‚Äú–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞‚Äù, ‚Äú–ò–≥—Ä—É—à–∫–∏‚Äù

---

### 2. `products` ‚Äî —Ç–æ–≤–∞—Ä—ã

–ö–∞–∂–¥—ã–π —Ç–æ–≤–∞—Ä –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –æ–¥–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –∏–º–µ–µ—Ç —Ü–µ–Ω—É, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞ —Å–∫–ª–∞–¥–µ.

| –ü–æ–ª–µ          | –¢–∏–ø     | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è                                                            | –û–ø–∏—Å–∞–Ω–∏–µ                        |
| ------------- | ------- | ---------------------------------------------------------------------- | ------------------------------- |
| `id`          | INTEGER | PRIMARY KEY AUTOINCREMENT                                              | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–æ–≤–∞—Ä–∞ |
| `name`        | TEXT    | UNIQUE, NOT NULL                                                       | –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞                 |
| `price`       | REAL    | NOT NULL, CHECK(price >= 0)                                            | –¶–µ–Ω–∞                            |
| `quantity`    | INTEGER | NOT NULL, CHECK(quantity >= 0)                                         | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞ —Å–∫–ª–∞–¥–µ            |
| `category_id` | INTEGER | FOREIGN KEY (category_id) REFERENCES categories(id) ON DELETE SET NULL | –ö–∞—Ç–µ–≥–æ—Ä–∏—è                       |

---

### 3. `orders` ‚Äî –∑–∞–∫–∞–∑—ã

–•—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–∫–∞–∑–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–∞—Ö.

| –ü–æ–ª–µ          | –¢–∏–ø     | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è                                                     | –û–ø–∏—Å–∞–Ω–∏–µ                        |
| ------------- | ------- | --------------------------------------------------------------- | ------------------------------- |
| `id`          | INTEGER | PRIMARY KEY AUTOINCREMENT                                       | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–∫–∞–∑–∞ |
| `product_id`  | INTEGER | NOT NULL, FOREIGN KEY REFERENCES products(id) ON DELETE CASCADE | –ó–∞–∫–∞–∑–∞–Ω–Ω—ã–π —Ç–æ–≤–∞—Ä                |
| `quantity`    | INTEGER | NOT NULL, CHECK(quantity > 0)                                   | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –µ–¥–∏–Ω–∏—Ü —Ç–æ–≤–∞—Ä–∞        |
| `total_price` | REAL    | NOT NULL                                                        | –ò—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞ –∑–∞–∫–∞–∑–∞           |

---

## –≠—Ç–∞–ø—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∞–∫—Ç–∏–∫–∏

### –≠—Ç–∞–ø 1. –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞–π –ø—Ä–æ–µ–∫—Ç —Å —Ç—Ä–µ–º—è –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏:

```
store_app/
‚îÇ
‚îú‚îÄ‚îÄ core.py         # –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ crud.py         # CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ main.py         # –û—Å–Ω–æ–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
```

> üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞:
> –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –º–æ–¥—É–ª—å `logic.py` –¥–ª—è –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞).

---

### –≠—Ç–∞–ø 2. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∞—Å—Å–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î (`core.py`)

–°–æ–∑–¥–∞–π –∫–ª–∞—Å—Å `Database`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç:

- —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å SQLite;
- –≤—ã–ø–æ–ª–Ω—è—Ç—å SQL-–∑–∞–ø—Ä–æ—Å—ã (`execute`, `fetchall`, `fetchone`);
- —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–º–µ—Ç–æ–¥ `create_tables()`).

> üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞:
> –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `executescript()`, —á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ SQL-–∑–∞–ø—Ä–æ—Å–æ–≤ —Å—Ä–∞–∑—É.

---

### –≠—Ç–∞–ø 3. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è CRUD –¥–ª—è –∫–∞–∂–¥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ (`crud.py`)

–î–ª—è –∫–∞–∂–¥–æ–π —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–π –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å:

- `CategoryCRUD`
- `ProductCRUD`
- `OrderCRUD`

–ö–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –º–µ—Ç–æ–¥—ã:

- `create()` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞–ø–∏—Å–∏;
- `get_all()` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π;
- `get_by_id()` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –ø–æ id;
- `update()` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π –∑–∞–ø–∏—Å–∏;
- `delete()` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏.

> üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞:
>
> - –ò—Å–ø–æ–ª—å–∑—É–π –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (`?`) –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏.
> - –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –∑–∞–±—ã–≤–∞–π –≤—ã–∑—ã–≤–∞—Ç—å `commit()`.

---

### –≠—Ç–∞–ø 4. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ ‚Äî ¬´–æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞¬ª

–°–æ–∑–¥–∞–π —Ñ—É–Ω–∫—Ü–∏—é `make_order(product_id, quantity)`, –∫–æ—Ç–æ—Ä–∞—è –¥–æ–ª–∂–Ω–∞:

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ç–æ–≤–∞—Ä —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –Ω—É–∂–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –µ—Å—Ç—å –Ω–∞ —Å–∫–ª–∞–¥–µ.
2. –í—ã—á–∏—Å–ª–∏—Ç—å —Å—É–º–º—É –∑–∞–∫–∞–∑–∞ (`total_price = price * quantity`).
3. –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü—É `orders`.
4. –£–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ `products`.

> üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞:
> –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –≤ –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ ‚Äî –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è, –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è.
> –î–ª—è —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `with connection:` –∏–ª–∏ –≤—Ä—É—á–Ω—É—é —É–ø—Ä–∞–≤–ª—è—Ç—å `commit()` / `rollback()`.

---

### –≠—Ç–∞–ø 5. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (`main.py`)

–°–æ–∑–¥–∞–π –ø—Ä–æ—Å—Ç–æ–µ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ –º–µ–Ω—é –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.
–ù–∞–ø—Ä–∏–º–µ—Ä, –≤ –≤–∏–¥–µ —Å–ª–æ–≤–∞—Ä—è:

```python
menu = {
    "1": ("–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä", lambda: ...),
    "2": ("–ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–≤–∞—Ä—ã", lambda: ...),
    "3": ("–°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑", lambda: ...),
    "4": ("–£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä", lambda: ...),
    "0": ("–í—ã—Ö–æ–¥", exit)
}
```

–§—É–Ω–∫—Ü–∏—è `main()` –¥–æ–ª–∂–Ω–∞:

- –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –ø—É–Ω–∫—Ç—ã –º–µ–Ω—é;
- –ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤–≤–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è;
- –≤—ã–∑—ã–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ —Å–ª–æ–≤–∞—Ä—è.

> **–ü–æ–¥—Å–∫–∞–∑–∫–∞**:
> –î–ª—è –≤—ã–≤–æ–¥–∞ —Ç–∞–±–ª–∏—Ü —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `show_data(rows, headers)`, —á—Ç–æ–±—ã –∫—Ä–∞—Å–∏–≤–æ –ø–µ—á–∞—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ.

---

### –≠—Ç–∞–ø 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ CRUD-–æ–ø–µ—Ä–∞—Ü–∏–π

1. –î–æ–±–∞–≤—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä: ‚Äú–û–¥–µ–∂–¥–∞‚Äù, ‚Äú–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞‚Äù).
2. –î–æ–±–∞–≤—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–∞–∂–¥—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é.
3. –ü–æ–ø—Ä–æ–±—É–π –∏–∑–º–µ–Ω–∏—Ç—å —Ü–µ–Ω—É –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É —Ç–æ–≤–∞—Ä–∞.
4. –£–¥–∞–ª–∏ —Ç–æ–≤–∞—Ä –∏ –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –∫–∞—Å–∫–∞–¥–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.
5. –°–æ–∑–¥–∞–π –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–∫–∞–∑–æ–≤ —á–µ—Ä–µ–∑ –±–∏–∑–Ω–µ—Å-—Ñ—É–Ω–∫—Ü–∏—é –∏ —É–±–µ–¥–∏—Å—å, —á—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–∞ –Ω–∞ —Å–∫–ª–∞–¥–µ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è.

---

# –í–æ–ø—Ä–æ—Å—ã:

1. –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä–∞ **CRUD** –∏ –∫–∞–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –Ω–µ—ë –≤—Ö–æ–¥—è—Ç?
2. –ö–∞–∫—É—é —Ä–æ–ª—å –∏–≥—Ä–∞–µ—Ç **CRUD** –≤ –ª—é–±–æ–º API-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏?
3. –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É **API** –∏ **–±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö**?
4. –ù–∞–∑–æ–≤–∏ –∏ –∫—Ä–∞—Ç–∫–æ –æ–ø–∏—à–∏ —á–µ—Ç—ã—Ä–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤ SQL, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–∞—é—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö.
5. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –≤—ã—Ä–∞–∂–µ–Ω–∏–µ `FOREIGN KEY (...) REFERENCES ... ON DELETE CASCADE`?
6. –ö–∞–∫—É—é –∑–∞–¥–∞—á—É —Ä–µ—à–∞–µ—Ç —É—Ä–æ–≤–µ–Ω—å **Repository (CRUD)** –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è?
7. –ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ —Ä–∞–∑–¥–µ–ª—è—Ç—å –ª–æ–≥–∏–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–∏ (DB ‚Üí CRUD ‚Üí Business Logic ‚Üí Interface)?
8. –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç, –µ—Å–ª–∏ –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ –∑–∞–ø–∏—Å–∏ –Ω–∞—Ä—É—à–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ `UNIQUE` –∏–ª–∏ `NOT NULL`?
9. –ö–∞–∫—É—é –∑–∞–¥–∞—á—É —Ä–µ—à–∞–µ—Ç **–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞** –≤ CRUD-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏? –ù–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—á–µ–º—É –ø–µ—Ä–µ–≤–æ–¥ —Å—Ç—É–¥–µ–Ω—Ç–∞ –≤ –¥—Ä—É–≥—É—é –≥—Ä—É–ø–ø—É –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ—Å—Ç—ã–º `UPDATE`.
10. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è `executescript()` –≤ `sqlite3` –∏ –∫–æ–≥–¥–∞ –µ—ë —É–¥–æ–±–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

---

[–ü—Ä–µ–¥—ã–¥—É—â–∏–π —É—Ä–æ–∫](lesson09.md) | [–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–∫](lesson11.md)
